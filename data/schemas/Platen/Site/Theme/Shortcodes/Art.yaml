# yaml-language-server: $schema=https://json-schema.org/draft/2020-12/schema
$schema: https://json-schema.org/draft/2020-12/schema
$id: /schemas/Platen/Site/Theme/Shortcodes/Art.schema.yaml
title: Art
description: Defines the settings for the art shortcode
schematize:
  details: |
    Defines the map of settings for the Platen's [`art`][01] shortcode. The existing value is a
    map that includes whether or not to enable the shortcode and the style definition for it.

    You can add new keys or replace the values for existing ones. You don't need to keep the
    full list of all properties in your own configuration file. Only specify the values you want
    to add or replace.

    <!-- Reference Links -->
    [01]: /modules/platen/shortcodes/art
type: object
properties:
  Enabled:
    title: Enable the Shortcode
    description: Whether to enable the shortcode for the site
    schematize:
      weight: 1
      details: |
        Defines whether to enable the `art` shortcode for the site. This value defaults to `true`.
        When this value is set to `false`, the configuration and styling for the shortcode is
        disabled and Platen raises an error when the shortcode is used.
    type: boolean
    default: true
  Style:
    title: SCSS Style Module
    description: Defines default styling for figures created by the shortcode.
    schematize:
      weight: 100
      skipSchemaRender: true
      details: |
        Defines default styling for figures created by the shortcode.

        When you use the [`art`][01] shortcode, the following SCSS is applied:

        ```scss
        figure.platen-art {
          width: 100%
          img {
            object-fit: contain;
            width: 100%;
          }
          figcaption {
            margin-top: 1rem;
            text-align: center;
            font-size: smaller;
          }

          &.half {
            width: 50%;
          }
          &.third {
            width: 33%
          }
          &.quarter {
            width: 25%
          }

          &.platen-content-warning {
            img {
              z-index: 10;
              filter: blur(30px);
            }
            figcaption {
              visibility: hidden;
            }
            input.platen-content-warning {
              visibility: hidden;
            }
            input.platen-content-warning + label {
              position: absolute;
              z-index: 1;
              bottom: 0;
              top: 0;
              left: 0;
              right: 0;
              margin: 1px ;
              text-align: center;
              &::before {
                content: "Content Warning:";
                display: block;
                font-weight: bolder;
                font-size: larger;
                margin-bottom: 1em;
                margin-top: 1em;
              }
            }
            input[type="checkbox"]:checked + label {
              opacity: 0;
            }
            input[type="checkbox"]:checked + label + img {
              filter: blur(0);
            }
            input[type="checkbox"]:checked + label + img + figcaption {
              visibility: visible;
            }
          }
        }
        ```

        The shortcode creates a `<figure>` element with an `<img>` element containing the artwork.
        If the shortcode specifies a caption, it's added in a `figcaption` element beneath the
        image. By default, the `<figure>` element has the `platen-art` class.

        ### Defaults

        ```scss
        width: 100%
        img {
          object-fit: contain;
          width: 100%;
        }
        figcaption {
          margin-top: 1rem;
          text-align: center;
          font-size: smaller;
        }
        ```

        By default, the figure's width is set to take up the entirety of its available space.
        Similarly, the image is always set to take up the full width of the figure itself and uses
        the [sref:`object-fit`] property to keep the object's aspect ratio while fitting into the
        available space.

        If the figure includes a caption, the caption is added with a top margin of
        [sref:`$padding-large`] with the text centered beneath the image and the font size decreased
        on step.

        ### Sizing Classes

        ```scss
        &.half {
          width: 50%;
        }
        &.third {
          width: 33%
        }
        &.quarter {
          width: 25%
        }
        ```

        When an author adds the `half`, `third`, or `quarter` class to the figure with the
        shortcode's `class` parameter, the figure's width is set to the appropriate percent. Used
        in combination with the `float-left` or `float-right` [sref:basic utility classes], authors
        can include their artwork beside the rest of their content without having to use the
        [`columns`][02] shortcode for the same effect.

        ### Content Warning

        ```scss
        img {
          z-index: 10;
          filter: blur(30px);
        }
        figcaption {
          visibility: hidden;
        }
        input.platen-content-warning {
          visibility: hidden;
        }
        input.platen-content-warning + label {
          position: absolute;
          z-index: 1;
          bottom: 0;
          top: 0;
          left: 0;
          right: 0;
          margin: 1px ;
          text-align: center;
          &::before {
            content: "Content Warning:";
            display: block;
            font-weight: bolder;
            font-size: larger;
            margin-bottom: 1em;
            margin-top: 1em;
          }
        }
        input[type="checkbox"]:checked + label {
          opacity: 0;
        }
        input[type="checkbox"]:checked + label + img {
          filter: blur(0);
        }
        input[type="checkbox"]:checked + label + img + figcaption {
          visibility: visible;
        }
        ```

        When the shortcode is used with the [`contentWarning` parameter][03], it adds the
        `platen-content-warning` class to the figure and inserts a checkbox input and label before
        the image element.

        The styling blurs the image and super-imposes the content warning label over it, stretching
        the label to fill the entire figure. This allows a site visitor to click anywhere in the
        figure to unblur the image and hide the content warning instead, clicking again to reverse
        the process.

        ### Overriding

        You can overwrite this definition for your own site or theme by creating the file
        `styles/shortcodes/_tabs.scss` in your [assets folder][03], which defaults to `assets` in
        your project root.

        {{< details title="Careful!"  class="danger" open=true >}}
        Note that if you create this file, it _entirely overwrites_ the default from the theme.
        {{< /details >}}

        For more information on authoring SCSS, see the [learning guide][04].

        <!-- Reference Links -->
        [01]: /modules/platen/shortcodes/art
        [02]: /modules/platen/shortcodes/columns
        [03]: https://gohugo.io/getting-started/directory-structure/#directory-structure-explained
        [04]: https://sass-lang.com/guide
        [sref:`object-fit`]: mdn.css:object-fit
        [sref:`$padding-large`]: Platen.Site.Theme.Variables.BasicSCSS.padding-large
    type: object
    default:
      Name: art
    required:
      - Name
    properties:
      Name:
        title: Style Module Name
        description: The name of the SCSS style module without the leading `_`.
        enum: art
