# yaml-language-server: $schema=https://json-schema.org/draft/2020-12/schema
$schema: https://json-schema.org/draft/2020-12/schema
$id: /schemas/Platen/Site/Theme/Config.schema.yaml
title: Theming Options
description: Optional settings for theming a Platen site.
schematize:
  details: |
    The Platen theme options...
type: object
properties:
  Mode:
    title: Display Mode
    description: >-
      Specifies whether the site should show light or dark theme or use the user's OS preference
      setting.
    schematize:
      weight: 1
      details: |
        Specifies whether the site should display the light theme (`light`), dark theme (`dark`),
        or the theme that matches the user's OS preferences (`auto`).

        The default is `auto`.
    type: string
    enum:
      - auto
      - light
      - dark
    default: auto
  Variables:
    title: Variables
    description: Variables to insert for SCSS and CSS.
    schematize:
      weight: 2
      skipSchemaRender: true
      details: |
        Defines several different groups of variables to insert into the SCSS that defines how the
        site is displayed.

        You can add new keys or replace the values for existing ones. You don't need to keep the
        full list of all variables in your own configuration file. Only specify the values you want
        to add or replace.

        The variables are added to the SCSS in the following order:

        1. [sref:`BasicSCSS`] is loaded first, because these variables have no dependencies.
        2. [sref:`CalculatedSCSS`] is loaded next, because these variables are expected to use
           values defined in `BasicSCSS` for convenience.
        3. [sref:`LightCSS`] and [sref:`DarkCSS`] are loaded next. They're independent of each
           other, but may rely on values defined in [sref:`BasicSCSS`] or [sref:`CalculatedSCSS`].

        [sref:`BasicSCSS`]: Platen.Site.Theme.Variables.BasicSCSS
        [sref:`CalculatedSCSS`]: Platen.Site.Theme.Variables.CalculatedSCSS
        [sref:`LightCSS`]: Platen.Site.Theme.Variables.LightCSS
        [sref:`DarkCSS`]: Platen.Site.Theme.Variables.DarkCSS
    type: object
    properties:
      BasicSCSS:
        $ref: ./Variables/BasicSCSS.yaml
        schematize:
          weight: 1
      CalculatedSCSS:
        $ref: ./Variables/CalculatedSCSS.yaml
        schematize:
          weight: 2
      LightCSS:
        $ref: ./Variables/LightCSS.yaml
        schematize:
          weight: 3
      DarkCSS:
        $ref: ./Variables/DarkCSS.yaml
        schematize:
          weight: 4
  Styles:
    title: Styles
    description: SCSS Style modules
    schematize:
      weight: 3
      skipSchemaRender: true
      details: |
        Defines several different groups of style modules to insert into the SCSS that defines how
        the site is displayed.

        You can add new keys or replace the values for existing ones. You don't need to keep the
        full list of all variables in your own configuration file. Only specify the values you want
        to add or replace.

        The styles are added to the SCSS in a non-deterministic order.
    type: object
    properties:
      Base:
        $ref: ./Styles/Base.yaml
        schematize:
          weight: 1
      Platen:
        $ref: ./Styles/Platen.yaml
        schematize:
          weight: 2
      Mobile:
        $ref: ./Styles/Mobile.yaml
        schematize:
          weight: 3
      Wide:
        $ref: ./Styles/Wide.yaml
        schematize:
          weight: 4
      Markdown:
        $ref: ./Styles/Markdown.yaml
        schematize:
          weight: 5
      Utils:
        $ref: ./Styles/Utils.yaml
        schematize:
          weight: 6
  Fonts:
    title: Font Options
    description: Add and configure fonts
    schematize:
      weight: 4
      skipSchemaRender: true
      details: |
        Defines the set of fonts the theme should add and configures how to apply those fonts to
        different elements in the theme.

        The [sref:`Styles`] property controls the addition of fonts as an overridable array of font
        declarations. The [sref:`Settings`] property controls where the fonts are used.

        [sref:`Styles`]: Platen.Site.Theme.Config.Fonts.Styles
        [sref:`Settings`]: Platen.Site.Theme.Config.Fonts.Settings
    type: object
    properties:
      Styles:
        title: Font Options
        description: Optional settings for configuring fonts on a Platen site.
        schematize:
          weight: 1
          details: |
            Defines the array of fonts to load for the theme. The existing value is an array that makes the
            theme's default fonts (the Roboto family) available.

            If you define this setting in your site or theme, you _replace_ the existing set of fonts. To
            reinclude the theme's default fonts, make sure to include `roboto` in the array.

            For example, if a theme defined it's own `spectral` font family, it could re-add the roboto font
            with the following configuration:

            ```yaml
            Fonts:
              Styles:
                - spectral
                - roboto
            ```

            There are two options for defining font style modules.

            1. **Simple Font Modules**

               Simple font module declarations are strings matching the name of an SCSS module in
               the `assets/fonts` folder. For example, to add the module in
               `assets/fonts/_spectral.scss`, specify `spectral`. This value is case sensitive.
            1. **Mapped Font Modules**

               [sref:Mapped font modules] provide more control over the importing of an SCSS module with
               fonts. Add each item as a map with the [sref:`ImportName`] key defined.

               The [sref:`ImportName`] must be a string that matches the name of an SCSS module in
               the `assets/fonts` folder. For example, to add the module in
               `assets/fonts/_spectral.scss`, specify `spectral`. This value is case sensitive.

               You can also specify the [sref:`Weight`] key to control the order the SCSS modules
               are loaded. All mapped declarations are loaded before unmapped modules. All weighted
               modules are loaded before unweighted modules. Weighted modules are loaded in order
               from lowest weight to highest.

               [sref:`ImportName`]: Platen.Site.Theme.Fonts.MappedStyle.ImportName
               [sref:`Weight`]: Platen.Site.Theme.Fonts.MappedStyle.Weight
               [sref:Mapped font modules]: Platen.Site.Theme.Fonts.MappedStyle
        type: array
        items:
          oneOf:
            - type: string
              description: >-
                The name of an SCSS module in the `assets/fonts` folder. For example, to add the module in
                `assets/fonts/_spectral.scss`, specify `spectral`. This value is case sensitive.
            - $ref: ./Fonts/MappedStyle.yaml
      Settings:
        $ref: ./Fonts/Settings.yaml
        schematize:
          weight: 2
  Printing:
    title: Printing Options
    description: Configure and style the site for printing
    schematize:
      weight: 5
      skipSchemaRender: true
      details: |
        Defines the style modules to use when a site visitor prints a page.

        The [sref:`Styles`] property controls the importing of SCSS modules as a map.

        [sref:`Styles`]: Platen.Site.Theme.Printing.Styles
    type: object
    properties:
      Styles:
        $ref: ./Printing/Styles.yaml
        schematize:
          weight: 1
  Shortcodes:
    title: Shortcode Options
    description: Configure and style the theme's shortcodes
    schematize:
      weight: 6
      skipSchemaRender: true
      details: |
        Defines the settings and style modules to use for the theme's shortcodes.

        While you can add shortcodes independently of this configuration, the setting provides a
        standardized and discoverable way for theme developers building on Platen to make their
        shortcodes usable for others without requiring modifying the base theme's files.

        Platen modules use this configuration to add their shortcodes and make them configurable.

        Shortcodes defined in this way must not depend on each other.
    type: object
    properties:
      Button:
        $ref: ./Shortcodes/Button.yaml
        schematize:
          weight: 1
      Columns:
        $ref: ./Shortcodes/Columns.yaml
        schematize:
          weight: 2
      Hint:
        $ref: ./Shortcodes/Hint.yaml
        schematize:
          weight: 3
      Tabs:
        $ref: ./Shortcodes/Tabs.yaml
        schematize:
          weight: 4
    patternProperties:
      ".":
        $ref: ./Shortcodes/Valid.yaml
        schematize:
          href: pattern-any
