# yaml-language-server: $schema=https://json-schema.org/draft/2020-12/schema
$schema: https://json-schema.org/draft/2020-12/schema
$id: /schemas/Platen/Content/Page.schema.yaml
title: Page Options
description: Optional settings for overriding site configuration on a content page.
schematize:
  details: |
    Defines optional settings for overriding site configuration on a page using values in the page's
    front matter.
type: object
properties:
  EnableComments:
    title: Enable Comments
    description: Whether to enable comments on the page
    schematize:
      weight: 1
      details: |
        Specifies whether to enable comments on the page, overriding the site's [sref:`Features.Comments.Enabled`]
        setting for this page.

        Set this value to `true` to enable comments for the page and `false` to disable them.

        [sref:`Features.Comments.Enabled`]: Platen.Site.Features.Comments.Enabled
    type: boolean
  ExcludeFromSearch:
    title: Exclude from Search
    description: Whether to exclude the page from site search results
    schematize:
      weight: 2
      details: |
        Specifies whether to exclude the page from site search results. This setting is only
        effective when the site's [sref:`Features.Search.Enabled`] setting is set to `true`.

        [sref:`Features.Search.Enabled`]: Platen.Site.Features.Search.Enabled
    type: boolean
  Menu:
    title: Site Menu Options
    description: Alters this page's entry in the site menu
    schematize:
      skipSchemaRender: true
      details: |
        Defines options for altering how this page is displayed in the site menu. These three
        options are incompatible with each other. A section (`_index.md` file) can be collapsed,
        flattened, or hidden in the site menu, but not more than one of them. Normal pages can only
        be optionally hidden.
    type: object
    properties:
      FlattenSection:
        title: Flatten Section
        description: Whether to flatten the section in the site menu
        schematize:
          weight: 2
          details: |
            Specifies whether to flatten the section in the site menu. This setting is only valid
            for section pages (`_index.md` files).

            To make the section display as a flat list in the site menu, set this value to `true`.
            The default is `false`.
        type: boolean
        default: false
      CollapseSection:
        title: Collapse Section
        description: Whether to make the section collapsible in the site menu
        schematize:
          weight: 2
          details: |
            Specifies whether to make the section collapsible in the site menu. This setting is only
            valid for section pages (`_index.md` files).

            To make the section display as a collapsible item in the site menu, set this value to
            `true`. The default is `false`.
        type: boolean
        default: false
      Hide:
        title: Hide from Site Menu
        description: Whether to remove the page or section from the site menu
        schematize:
          weight: 2
          details: |
            Specifies whether to remove the page or section from the site menu. This setting only
            has an effect when the page or section would otherwise be included in the site menu
            because it is in the folder defined in the site's [sref:`Display.MenuRootSection`]
            setting.

            To prevent the page or section from being added to the site menu, set this value to
            `true`. The default is `false`.

            [sref:`Display.MenuRootSection`]: Platen.Site.Display.MenuRootSection
        type: boolean
        default: false
  TableOfContents:
    title: Table of Contents
    description: Overrides the site's table of contents configuration for this page.
    schematize:
      skipSchemaRender: true
      details: |
        Defines overrides the site's table of contents configuration for this page.
    type: object
    properties:
      MinimumLevel:
        title: Minimum Heading Level
        description: Specify the minimum heading level to include in the page's table of contents.
        schematize:
          details: |
            Specify the minimum heading level to include in the page's table of contents, overriding
            the site's [sref:`Display.TableOfContents.MinimumLevel`] setting. This value only
            affects the table of contents when [sref:`UseBuiltIn`] is set to `false`.

            Headings at a lower level than this value aren't included in the table of contents. For
            example, when this is set to `3`, first and second level Markdown and HTML headings
            aren't included in the table of contents.

            This value must be less than or equal to the value of [sref:`MaximumLevel`].

            [sref:`Display.TableOfContents.MinimumLevel`]: Platen.Site.Display.TableOfContents.MinimumLevel
            [sref:`UseBuiltIn`]: Platen.Content.Page.UseBuiltIn
            [sref:`MaximumLevel`]: Platen.Content.Page.MaximumLevel
          weight: 1
        type: integer
        default: 2
        minimum: 1
        maximum: 6
      MaximumLevel:
        title: Maximum Heading Level
        description: Specify the maximum heading level to include in the page's table of contents.
        schematize:
          details: |
            Specify the maximum heading level to include in the page's table of contents, overriding
            the site's [sref:`Display.TableOfContents.MaximumLevel`] setting. This value only
            affects the table of contents when [sref:`UseBuiltIn`] is set to `false`.

            Headings at a higher level than this value aren't included in the table of contents. For
            example, when this is set to `4`, fifth and sixth level Markdown and HTML headings
            aren't included in the table of contents.

            This value must be greater than or equal to the value of [sref:`MinimumLevel`].

            [sref:`Display.TableOfContents.MaximumLevel`]: Platen.Site.Display.TableOfContents.MaximumLevel
            [sref:`UseBuiltIn`]: Platen.Content.Page.UseBuiltIn
            [sref:`MinimumLevel`]: Platen.Content.Page.MinimumLevel
          weight: 1
        type: integer
        default: 4
        minimum: 1
        maximum: 6
      UseBuiltIn:
        title: Use Built-In
        description: Choose whether to use Hugo's builtin table of contents.
        schematize:
          details: |
            Choose whether to use Hugo's builtin table of contents or generate them with Platen,
            overriding the site's configuration for this page. This overrides the site's [sref:`Display.TableOfContents.UseBuiltIn`]
            setting.


            Hugo's builtin table of contents only includes markdown headings, not HTML headings
            added in shortcodes.

            Platen's table of contents includes all headings, HTML and Markdown, as long as they're
            within the specified values for [sref:`MinimumLevel`] and [sref:`MaximumLevel`],
            inclusive.

            [sref:`Display.TableOfContents.UseBuiltIn`]: Platen.Site.Display.TableOfContents.UseBuiltIn
            [sref:`MinimumLevel`]: Platen.Content.Page.MinimumLevel
            [sref:`MaximumLevel`]: Platen.Content.Page.MaximumLevel
          weight: 1
        type: boolean
        default: false
      Render:
        title: Render the Table of Contents
        description: Whether to render the table of contents for the page
        schematize:
          weight: 2
          details: |
            Specifies whether to render the table of contents for the page. This setting overrides
            the site's [sref:`Display.TableOfContents.Render`], if set.

            To prevent the table of contents from rendering for a page, set this value to `false`.
            To render the table of contents for a page when it's disabled at the site level, set
            this value to `true`.

            [sref:`Display.TableOfContents.Render`]: Platen.Site.Display.TableOfContents.Render
        type: boolean
        default: false
