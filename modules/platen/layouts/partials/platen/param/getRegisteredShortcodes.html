{{/*
    This partial is used to retrieve the list of all registered shortcodes, optionally on returning
    the disabled ones.
*/}}
{{- $Params       := .                                    -}}
{{- $DisabledOnly := $Params.DisabledOnly | default false -}}

{{- $registeredShortcodes := partialCached "platen/param/getKey" "platen.shortcodes" "platen.shortcodes" -}}

{{- if $DisabledOnly -}}
  {{- $disabledShortcodes := dict -}}
  {{- range $Shortcode, $Settings := $registeredShortcodes -}}
    {{- if eq $Settings.enabled false -}}
      {{- $disabledShortcodes = merge $disabledShortcodes (dict $Shortcode $Settings) -}}
    {{- end -}}
  {{- end -}}
  {{- $registeredShortcodes = $disabledShortcodes -}}
{{- end -}}

{{- return $registeredShortcodes -}}
