{{/*
    Docs.ShortCode: memo/shortcode/syntax
*/}}
{{- $input      := .                  -}}
{{- $pageParams := $input.Page.Params -}}
{{- $data       := $pageParams.Memo   -}}
{{- $kind       := $data.kind         -}}

{{/* Process input parameters */}}
{{- $name := default ($input.Get 0) ($input.Get "name") 
             | default $data.name
             | default $input.Page.Name
-}}
{{- $headingLevel := default ($input.Get 1) ($input.Get "headingLevel")
                     | default 3
-}}

{{- $renderStrings := slice -}}

{{- if hasPrefix $kind "Renderer" -}}
  {{- $kindParts    := split $kind      "."                                        -}}
  {{- $subKind      := index $kindParts 1                                          -}}
  {{- $syntaxParams := dict "Name"         $name
                            "Data"         $data
                            "HeadingLevel" $headingLevel
                            "Page"         $input.Page
  -}}
  {{- if eq $subKind "Codeblock" -}}
    {{- $renderStrings = partial "memo/utils/renderer/getCodeblockSyntax" $syntaxParams -}}
  {{- else if eq $subKind "Image" -}}
    {{- $renderStrings = partial "memo/utils/renderer/getImageSyntax" $syntaxParams -}}
  {{- end -}}
{{- else -}}
  {{- $message := i18n "ErrorMemoShortcodeRendererSyntaxWrongKind" $input -}}
  {{- errorf "%s" $message -}}
{{- end -}}

{{/* Render */}}
{{- delimit $renderStrings "\n\n" | safeHTML -}}